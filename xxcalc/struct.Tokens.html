<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Tokens` struct in crate `xxcalc`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Tokens">

    <title>xxcalc::Tokens - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='index.html'>xxcalc</a></p><script>window.sidebarCurrent = {name: 'Tokens', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>xxcalc</a>::<wbr><a class='struct' href=''>Tokens</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a id='src-666' class='srclink' href='../src/xxcalc/src/lib.rs.html#107-113' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct Tokens {
    pub tokens: <a class='type' href='../xxcalc/type.TokenList.html' title='xxcalc::TokenList'>TokenList</a>,
    pub identifiers: <a class='type' href='../xxcalc/type.Identifiers.html' title='xxcalc::Identifiers'>Identifiers</a>,
    // some fields omitted
}</pre><div class='docblock'><p><code>Tokens</code> is a compound storage for list of tokens with
their identifiers.</p>

<p>A <code>TokenList</code> is invalid without Identifiers, therefore
this struct keeps them always together. Furthermore
a lookup table is kept, so creating new identifier is
a relatively quick task.</p>
</div><h2 class='fields'>Fields</h2><span id='structfield.tokens' class='structfield'>
                           <span id='tokens.v' class='invisible'>
                           <code>tokens: <a class='type' href='../xxcalc/type.TokenList.html' title='xxcalc::TokenList'>TokenList</a></code>
                           </span></span><span class='stab '></span><div class='docblock'><p>List of tokens</p>
</div><span id='structfield.identifiers' class='structfield'>
                           <span id='identifiers.v' class='invisible'>
                           <code>identifiers: <a class='type' href='../xxcalc/type.Identifiers.html' title='xxcalc::Identifiers'>Identifiers</a></code>
                           </span></span><span class='stab '></span><div class='docblock'><p>Identifier strings used in <code>Token::Identifier</code></p>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><span class='in-band'><code>impl <a class='struct' href='../xxcalc/struct.Tokens.html' title='xxcalc::Tokens'>Tokens</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-695' class='srclink' href='../src/xxcalc/src/lib.rs.html#175-249' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.new' class='method'><span id='new.v' class='invisible'><code>fn <a href='#method.new' class='fnname'>new</a>(i_cap: <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>&gt;) -&gt; <a class='struct' href='../xxcalc/struct.Tokens.html' title='xxcalc::Tokens'>Tokens</a></code></span></h4>
<div class='docblock'><p>Creates a new token storage with optional capacity of
identifiers.</p>
</div><h4 id='method.clear' class='method'><span id='clear.v' class='invisible'><code>fn <a href='#method.clear' class='fnname'>clear</a>(&amp;mut self)</code></span></h4>
<div class='docblock'><p>Clears tokens list, however underlying identifiers vector and
its lookup cache is not cleared, as identifiers may be reused.</p>
</div><h4 id='method.push' class='method'><span id='push.v' class='invisible'><code>fn <a href='#method.push' class='fnname'>push</a>(&amp;mut self, position: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, token: <a class='enum' href='../xxcalc/enum.Token.html' title='xxcalc::Token'>Token</a>)</code></span></h4>
<div class='docblock'><p>Pushes a token (with its position) to the end of token list.</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>tokens</span> <span class='op'>=</span> <span class='ident'>Tokens</span>::<span class='ident'>new</span>(<span class='prelude-val'>None</span>);

<span class='ident'>tokens</span>.<span class='ident'>push</span>(<span class='number'>0</span>, <span class='ident'>Token</span>::<span class='ident'>Number</span>(<span class='number'>1.0</span>));
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>tokens</span>.<span class='ident'>tokens</span>.<span class='ident'>len</span>(), <span class='number'>1</span>);

<span class='ident'>tokens</span>.<span class='ident'>push</span>(<span class='number'>1</span>, <span class='ident'>Token</span>::<span class='ident'>Number</span>(<span class='number'>2.0</span>));
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>tokens</span>.<span class='ident'>tokens</span>.<span class='ident'>len</span>(), <span class='number'>2</span>);<a class='test-arrow' target='_blank' href=''>Run</a></pre>
</div><h4 id='method.push_identifier' class='method'><span id='push_identifier.v' class='invisible'><code>fn <a href='#method.push_identifier' class='fnname'>push_identifier</a>(&amp;mut self, position: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, value: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>)</code></span></h4>
<div class='docblock'><p>Pushes a identifier (with its position) to the end of token list.</p>

<p>Using a lookup cache, an offset in identifier table is obtained.
If identifier does not yet exist, it is added both to the identifier
vector and to the lookup cache. Identifiers are case-agnostic.
A Token::Identifier with appropriate offset is pushed to the end
of the token list.</p>

<h1 id='examples-1' class='section-header'><a href='#examples-1'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>tokens</span> <span class='op'>=</span> <span class='ident'>Tokens</span>::<span class='ident'>new</span>(<span class='prelude-val'>None</span>);

<span class='ident'>tokens</span>.<span class='ident'>push_identifier</span>(<span class='number'>0</span>, <span class='kw-2'>&amp;</span><span class='ident'>String</span>::<span class='ident'>from</span>(<span class='string'>&quot;FOO&quot;</span>));
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>tokens</span>[<span class='number'>0</span>], (<span class='number'>0</span>, <span class='ident'>Token</span>::<span class='ident'>Identifier</span>(<span class='number'>0</span>)));
<span class='ident'>tokens</span>.<span class='ident'>push_identifier</span>(<span class='number'>4</span>, <span class='kw-2'>&amp;</span><span class='ident'>String</span>::<span class='ident'>from</span>(<span class='string'>&quot;foo&quot;</span>));
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>tokens</span>[<span class='number'>1</span>], (<span class='number'>4</span>, <span class='ident'>Token</span>::<span class='ident'>Identifier</span>(<span class='number'>0</span>)));
<span class='ident'>tokens</span>.<span class='ident'>push_identifier</span>(<span class='number'>8</span>, <span class='kw-2'>&amp;</span><span class='ident'>String</span>::<span class='ident'>from</span>(<span class='string'>&quot;bar&quot;</span>));
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>tokens</span>[<span class='number'>2</span>], (<span class='number'>8</span>, <span class='ident'>Token</span>::<span class='ident'>Identifier</span>(<span class='number'>1</span>)));
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>tokens</span>.<span class='ident'>identifiers</span>, [<span class='string'>&quot;foo&quot;</span>, <span class='string'>&quot;bar&quot;</span>]);<a class='test-arrow' target='_blank' href=''>Run</a></pre>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 class='impl'><span class='in-band'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html' title='core::fmt::Debug'>Debug</a> for <a class='struct' href='../xxcalc/struct.Tokens.html' title='xxcalc::Tokens'>Tokens</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-670' class='srclink' href='../src/xxcalc/src/lib.rs.html#106' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.fmt' class='method'><span id='fmt.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt' class='fnname'>fmt</a>(&amp;self, __arg_0: &amp;mut <a class='struct' href='https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html' title='core::fmt::Formatter'>Formatter</a>) -&gt; <a class='type' href='https://doc.rust-lang.org/nightly/core/fmt/type.Result.html' title='core::fmt::Result'>Result</a></code></span></h4>
<div class='docblock'><p>Formats the value using the given formatter.</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.Index.html' title='core::ops::Index'>Index</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>&gt; for <a class='struct' href='../xxcalc/struct.Tokens.html' title='xxcalc::Tokens'>Tokens</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-690' class='srclink' href='../src/xxcalc/src/lib.rs.html#167-173' title='goto source code'>[src]</a></span></h3>
<div class='docblock'><p>Returns position and token with given index.</p>

<p>One should note that token position is indepentent
from its index.</p>

<h1 id='panics' class='section-header'><a href='#panics'>Panics</a></h1>
<p>It will panic when the index is greater than number of
tokens stored in the list.</p>

<h1 id='examples-2' class='section-header'><a href='#examples-2'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>tokens</span> <span class='op'>=</span> <span class='ident'>Tokens</span>::<span class='ident'>new</span>(<span class='prelude-val'>None</span>);

<span class='ident'>tokens</span>.<span class='ident'>push</span>(<span class='number'>0</span>, <span class='ident'>Token</span>::<span class='ident'>Number</span>(<span class='number'>1.0</span>));
<span class='ident'>tokens</span>.<span class='ident'>push</span>(<span class='number'>8</span>, <span class='ident'>Token</span>::<span class='ident'>Number</span>(<span class='number'>2.0</span>));

<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>tokens</span>[<span class='number'>0</span>], (<span class='number'>0</span>, <span class='ident'>Token</span>::<span class='ident'>Number</span>(<span class='number'>1.0</span>)));
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>tokens</span>[<span class='number'>1</span>], (<span class='number'>8</span>, <span class='ident'>Token</span>::<span class='ident'>Number</span>(<span class='number'>2.0</span>)));<a class='test-arrow' target='_blank' href=''>Run</a></pre>
</div><div class='impl-items'><h4 id='associatedtype.Output' class='type'><span id='Output.t' class='invisible'><code>type <a href='https://doc.rust-lang.org/nightly/core/ops/trait.Index.html#associatedtype.Output' class='type'>Output</a> = <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>(</a><a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, <a class='enum' href='../xxcalc/enum.Token.html' title='xxcalc::Token'>Token</a><a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>)</a></code></span></h4>
<div class='docblock'><p>The returned type after indexing</p>
</div><h4 id='method.index' class='method'><span id='index.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/ops/trait.Index.html#tymethod.index' class='fnname'>index</a>(&amp;self, idx: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>(</a><a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, <a class='enum' href='../xxcalc/enum.Token.html' title='xxcalc::Token'>Token</a><a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>)</a></code></span></h4>
<div class='docblock'><p>The method for the indexing (<code>Foo[Bar]</code>) operation</p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "xxcalc";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script defer src="../search-index.js"></script>
</body>
</html>